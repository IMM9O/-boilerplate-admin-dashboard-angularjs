"use strict";var URL="http://localhost:8000/",ANGULARJS_APP=angular.module("RDash",["satellizer","ui.bootstrap","ui.router","ngCookies","angularUtils.directives.dirPagination"]);ANGULARJS_APP.config(["$stateProvider","$urlRouterProvider","$authProvider",function(t,e,a){a.loginUrl="/api/authenticate",e.otherwise("/auth"),t.state("auth",{url:"/auth",templateUrl:"auth/login.html",controller:"AuthController as auth"}).state("dash",{url:"/dash","abstract":!0,templateUrl:"shared/layout/shell.html"}).state("dash.index",{url:"/index",templateUrl:"templates/dashboard.html"}).state("dash.tables",{url:"/tables",templateUrl:"templates/tables.html"}).state("dash.item",{url:"/item",templateUrl:"item/itemsView.html",controller:"ItemController as item"})}]);
!function(){"use strict";function o(o,n){console.log("object");var t=this;t.login=function(){var l={email:t.email,password:t.password};console.log(l),o.login(l).then(function(o){n.go("dash.index")})}}ANGULARJS_APP.controller("AuthController",["$auth","$state",o])}();
function ItemController(t,e){function o(t){e.page(t).then(function(t){a.data=t.data.data,a.totalItems=t.data.total})}function n(e,o){l=t.open({animation:!0,templateUrl:o,controller:"ModalInstanceCtrl",controllerAs:"modalCtrl",size:"lg",resolve:{items:function(){return e}}})}var l,a=this;e.set("item"),a.data=[],a.totalItems=0,a.pageChanged=function(t){o(t)},o(1),a.createItem=function(){var t={mlha_name:"",mlha_desc:""};n(t,"createModal.tpl.html"),void 0!=l&&l.result.then(function(t){console.log(t),e.store(t).then(function(t){console.log(t)})},function(){})},a.updateItem=function(t){e.show(t).then(function(o){n(o.data,"updateModal.tpl.html"),void 0!=l&&l.result.then(function(o){console.log(o),e.update(o,t).then(function(t){console.log(t)})},function(){})})},a.deleteItem=function(t,o){var n=confirm("Are you sure delete this item?");n&&(console.log(t.id),e.destroy(t.id).success(function(t){console.log(t),a.data.splice(o,1)}).error(function(t){console.log(t),alert("Unable to delete")}))}}ANGULARJS_APP.controller("ItemController",["$uibModal","apiHttpServices",ItemController]);
function AlertsCtrl(e){e.alerts=[{type:"success",msg:"Thanks for visiting! Feel free to create pull requests to improve the dashboard!"},{type:"danger",msg:"Found a bug? Create an issue with as many details as you can."}],e.addAlert=function(){e.alerts.push({msg:"Another alert!"})},e.closeAlert=function(t){e.alerts.splice(t,1)}}ANGULARJS_APP.controller("AlertsCtrl",["$scope",AlertsCtrl]);
function MasterCtrl(t,e){var g=992;t.getWidth=function(){return window.innerWidth},t.$watch(t.getWidth,function(o,n){o>=g?angular.isDefined(e.get("toggle"))?t.toggle=!!e.get("toggle"):t.toggle=!0:t.toggle=!1}),t.toggleSidebar=function(){t.toggle=!t.toggle,e.put("toggle",t.toggle)},window.onresize=function(){t.$apply()}}ANGULARJS_APP.controller("MasterCtrl",["$scope","$cookieStore",MasterCtrl]);
function ModalInstanceCtrl(n,t){var c=this;c.items=t,c.ok=function(){n.close(c.items)},c.cancel=function(){n.dismiss("cancel")}}ANGULARJS_APP.controller("ModalInstanceCtrl",["$uibModalInstance","items",ModalInstanceCtrl]);
function rdLoading(){var d={restrict:"AE",template:'<div class="loading"><div class="double-bounce1"></div><div class="double-bounce2"></div></div>'};return d}ANGULARJS_APP.directive("rdLoading",rdLoading);
function rdWidget(){var t={transclude:!0,template:'<div class="widget" ng-transclude></div>',restrict:"EA"};return t}ANGULARJS_APP.directive("rdWidget",rdWidget);
function rdWidgetBody(){var d={requires:"^rdWidget",scope:{loading:"@?",classes:"@?"},transclude:!0,template:'<div class="widget-body" ng-class="classes"><rd-loading ng-show="loading"></rd-loading><div ng-hide="loading" class="widget-content" ng-transclude></div></div>',restrict:"E"};return d}ANGULARJS_APP.directive("rdWidgetBody",rdWidgetBody);
function rdWidgetFooter(){var e={requires:"^rdWidget",transclude:!0,template:'<div class="widget-footer" ng-transclude></div>',restrict:"E"};return e}ANGULARJS_APP.directive("rdWidgetFooter",rdWidgetFooter);
function rdWidgetTitle(){var i={requires:"^rdWidget",scope:{title:"@",icon:"@"},transclude:!0,template:'<div class="widget-header"><div class="row"><div class="pull-left"><i class="fa" ng-class="icon"></i> {{title}} </div><div class="pull-right col-xs-6 col-sm-4" ng-transclude></div></div></div>',restrict:"E"};return i}ANGULARJS_APP.directive("rdWidgetHeader",rdWidgetTitle);
function apiModifyTable(n,a,i){return angular.forEach(n,function(f,o){f.id==a&&(n[o]=i)}),n}
function apiHttpServices(e,t){var n="api/";return{set:function(e){n+=e+"/"},page:function(t){return e.get(n+"?page="+t)},store:function(r){return console.log(r),e({method:"POST",url:n,headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t(r)})},show:function(t){return e.get(n+t)},update:function(r,o){return console.log(r),e({method:"PUT",url:n+""+o+"/",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:t(r)})},destroy:function(t){return e["delete"](n+t)}}}MLHAT_APP.factory("apiHttpServices",["$http","$httpParamSerializerJQLike",apiHttpServices]);